{% extends "base.html" %}

{% block title %}MutaSight - AI-Powered Drug Discovery Platform{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="hero-title text-gradient fade-in">
                    Accelerate Drug Discovery with AI
                </h1>
                <p class="hero-subtitle slide-up">
                    MutaSight combines molecular analysis, AI-powered mutations, research paper insights, and collaborative tools to revolutionize pharmaceutical research.
                </p>
                <div class="d-flex gap-3 slide-up">
                    {% if current_user.is_authenticated %}
                        <a href="{{ url_for('main.dashboard') }}" class="btn btn-gradient btn-lg">
                            <i data-feather="arrow-right" class="me-2"></i>Go to Dashboard
                        </a>
                        <a href="{{ url_for('main.molecular_input') }}" class="btn btn-outline-primary btn-lg">
                            <i data-feather="layers" class="me-2"></i>Analyze Molecule
                        </a>
                    {% else %}
                        <a href="{{ url_for('auth.register') }}" class="btn btn-gradient btn-lg">
                            <i data-feather="user-plus" class="me-2"></i>Get Started
                        </a>
                        <a href="{{ url_for('auth.login') }}" class="btn btn-outline-primary btn-lg">
                            <i data-feather="log-in" class="me-2"></i>Login
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="col-lg-6">
                <div class="molecular-viewer shadow-custom" id="hero-molecular-viewer" style="height: 450px;">
                    <div class="viewer-controls">
                        <button class="btn btn-sm btn-secondary reset-view" title="Reset View">
                            <i data-feather="rotate-ccw"></i>
                        </button>
                        <select class="btn btn-sm btn-secondary render-mode">
                            <option value="ballandstick">Ball & Stick</option>
                            <option value="spacefill">Space Fill</option>
                            <option value="wireframe">Wireframe</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="text-gradient mb-3">Comprehensive Drug Discovery Platform</h2>
            <p class="lead text-muted">Everything you need for modern pharmaceutical research</p>
        </div>
        
        <div class="row g-4">
            <div class="col-md-6 col-lg-4">
                <div class="feature-card card p-4 text-center h-100">
                    <div class="feature-icon">
                        <i data-feather="layers"></i>
                    </div>
                    <h5 class="card-title">Multi-Input Support</h5>
                    <p class="card-text text-muted">
                        Auto-detect and process SMILES, InChI, PDB files, and peptide sequences with intelligent input suggestions.
                    </p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <div class="feature-card card p-4 text-center h-100">
                    <div class="feature-icon">
                        <i data-feather="git-branch"></i>
                    </div>
                    <h5 class="card-title">DNA/RNA Analysis</h5>
                    <p class="card-text text-muted">
                        Comprehensive genomic sequence analysis with 3D structure visualization and functional predictions.
                    </p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <div class="feature-card card p-4 text-center h-100">
                    <div class="feature-icon">
                        <i data-feather="eye"></i>
                    </div>
                    <h5 class="card-title">3D Visualization</h5>
                    <p class="card-text text-muted">
                        Interactive 2D/3D molecular visualization with multiple rendering modes and analysis tools.
                    </p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <div class="feature-card card p-4 text-center h-100">
                    <div class="feature-icon">
                        <i data-feather="cpu"></i>
                    </div>
                    <h5 class="card-title">AI Predictions</h5>
                    <p class="card-text text-muted">
                        Predict molecular properties, toxicity, and drug-likeness using advanced machine learning models.
                    </p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <div class="feature-card card p-4 text-center h-100">
                    <div class="feature-icon">
                        <i data-feather="book-open"></i>
                    </div>
                    <h5 class="card-title">Research Paper Analysis</h5>
                    <p class="card-text text-muted">
                        AI chatbot analyzes research papers and extracts insights without requiring you to read full texts.
                    </p>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4">
                <div class="feature-card card p-4 text-center h-100">
                    <div class="feature-icon">
                        <i data-feather="users"></i>
                    </div>
                    <h5 class="card-title">Team Collaboration</h5>
                    <p class="card-text text-muted">
                        Real-time collaboration with project sharing, live chat, and team management capabilities.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Statistics Section -->
<section class="py-5 bg-secondary">
    <div class="container">
        <div class="row text-center">
            <div class="col-md-3">
                <div class="mb-3">
                    <h2 class="text-gradient">10K+</h2>
                    <p class="text-muted">Molecules Analyzed</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="mb-3">
                    <h2 class="text-gradient">500+</h2>
                    <p class="text-muted">Research Papers</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="mb-3">
                    <h2 class="text-gradient">1K+</h2>
                    <p class="text-muted">Active Researchers</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="mb-3">
                    <h2 class="text-gradient">99.9%</h2>
                    <p class="text-muted">Uptime</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <h2 class="text-gradient mb-3">Ready to Transform Your Research?</h2>
                <p class="lead text-muted mb-4">
                    Join thousands of researchers accelerating drug discovery with AI-powered tools.
                </p>
                {% if not current_user.is_authenticated %}
                <div class="d-flex gap-3 justify-content-center">
                    <a href="{{ url_for('auth.register') }}" class="btn btn-gradient btn-lg">
                        <i data-feather="rocket" class="me-2"></i>Start Free Trial
                    </a>
                    <a href="#features" class="btn btn-outline-primary btn-lg">
                        <i data-feather="info" class="me-2"></i>Learn More
                    </a>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/molecular_3d_viewer.js') }}"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize Feather icons
    feather.replace();
    
    // Initialize hero molecular viewer with a sample molecule
    if (window.MolecularViewer && document.getElementById('hero-molecular-viewer')) {
        const viewer = new MolecularViewer('hero-molecular-viewer');
        // Sample caffeine molecule for demo
        const caffeineSMILES = 'CN1C=NC2=C1C(=O)N(C(=O)N2C)C';
        viewer.loadFromSMILES(caffeineSMILES);
    }
    
    // Add smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
});
</script>
{% endblock %}